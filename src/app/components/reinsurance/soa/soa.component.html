<div id="soa">
    <div class="container-fluid">
        <div class="outerBorder">
            <div class="d-flex justify-content-between">
                <p class="font_Coloered3 text-center">
                    <span *ngIf="this.pageType=='SOA'">SOA</span>
                    <span *ngIf="this.pageType=='Borderaeux'">Policy Bordereaux</span>
                    <span *ngIf="this.pageType=='Claims'">Claims Bordereaux</span>
                    <span *ngIf="this.pageType=='Outstanding'">Outstanding Bordereaux</span>
                </p>
            </div>
            <form [formGroup]="Form" class="mt-3">
                <div class="row">
                    <!-- UY -->
                    <div class="col-md-3">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>UY</mat-label>
                            <mat-select (selectionChange)="getUY()" formControlName="underwritingYear">
                                <mat-option *ngIf="this.pageType=='SOA'" value="">null</mat-option>
                                <mat-option *ngFor="let item of UYList" [value]="item">{{item}}</mat-option>
                            </mat-select>
                            <mat-icon matIconSuffix style="color: rgba(0, 0, 0, 0.65);"><i class="fa-regular fa-calendar-days"></i></mat-icon>
                        </mat-form-field>
                    </div>
                    <!-- Treaty -->
                    <div class="col-md-3">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Treaty</mat-label>
                            <mat-select (selectionChange)="getTreatyName($event)" formControlName="TreatyId">
                                <mat-option *ngFor="let item of TreatiesList" [value]="item.id">{{item.treatyName}}</mat-option>
                            </mat-select>
                            <mat-icon matIconSuffix style="color: rgba(0, 0, 0, 0.65);"><i class="fa-solid fa-tree"></i></mat-icon>
                        </mat-form-field>
                    </div>
                    <!-- ReInsurance Company -->
                    <div class="col-md-3">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Reinsurance comp</mat-label>
                            <mat-select formControlName="companyReInsuranceId" (selectionChange)="getSelectedCom()">
                                <mat-option *ngIf="this.pageType=='SOA'" value="">All</mat-option>
                                <mat-option *ngFor="let item of newBrokers" [value]="item.id">{{item.name}}</mat-option>
                                <!-- <mat-option *ngFor="let item of this.ReInsuranBrokerPeriodList?.companiesAndBrokers" [value]="item?.reInsuranceCompanyId">{{item.reInsuranceCompanyName}}</mat-option> -->
                            </mat-select>
                            <mat-icon matIconSuffix style="color: rgba(0, 0, 0, 0.65);"><i class="fa-regular fa-building"></i></mat-icon>
                        </mat-form-field>
                    </div>
                    <!-- Type -->
                    <div class="col-md-3" *ngIf="this.pageType=='SOA'||this.pageType=='Borderaeux'">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Type</mat-label>
                            <mat-select formControlName="type">
                                <mat-option *ngFor="let item of TypesSAOBordereaux" [value]="item.id" [disabled]="true">{{item.value}}</mat-option>
                            </mat-select>
                            <mat-icon matIconSuffix style="color: rgba(0, 0, 0, 0.65);"><i class="fa-brands fa-typo3"></i></mat-icon>
                        </mat-form-field>
                    </div>

                    <!-- broker -->
                    <div class="col-md-3" style="display: none;" id="BrokerField">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Broker</mat-label>
                            <mat-select formControlName="brokerId">
                                <!-- <mat-option value=null>Null</mat-option> -->
                                <mat-option *ngFor="let item of this.ReInsuranceBrokers" [value]="item?.reInsuranceBrokerId">{{item?.reInsuranceBrokerName}}</mat-option>
                            </mat-select>
                            <mat-icon matIconSuffix style="color: rgba(0, 0, 0, 0.65);"><i class="fa-regular fa-building"></i></mat-icon>
                        </mat-form-field>
                    </div>
                    
                    <!-- period -->
                    <div class="col-md-3">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>period</mat-label>
                            <mat-select (selectionChange)="getPeriodTo()" formControlName="period">
                                <mat-option *ngFor="let item of Periods" [value]="item">{{item}}</mat-option>
                                <!-- <mat-option *ngFor="let item of ReInsuranBrokerPeriodList?.periods" [value]="item">{{item}}</mat-option> -->
                            </mat-select>
                            <mat-icon matIconSuffix style="color: rgba(0, 0, 0, 0.65);"><i class="fa-regular fa-building"></i></mat-icon>
                        </mat-form-field>
                    </div>
                    <div class="col-md-3" *ngIf="this.pageType=='SOA'||this.pageType=='Borderaeux'">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Select date type</mat-label>
                            <mat-select formControlName="searchDateType">
                            <mat-option *ngFor="let item of SearchDateTypes" [value]="item.id">{{item.value}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    
                    <div class="col-3">
                        <mat-form-field  class="w-100" appearance="outline">
                            <mat-label>{{'Policy.From'|translate}}</mat-label>
                            <input value="{{FromVal}}" disabled matInput [matDatepicker]="picker">
                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div class="col-3">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>{{'Policy.To'|translate}}</mat-label>
                            <input value="{{ToVal}}" disabled matInput  [matDatepicker]="picker1">
                            <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div class="col-md-3">
                        <button [disabled]="this.Form.status=='INVALID'||this.isClicked" id="calculate" (click)="ReInsuranceCalculationPdf()" mat-raised-button  class="mt-3 btn tabeeb_Btn">
                            <span *ngIf="!this.isClicked">
                                <span *ngIf="this.pageType=='SOA'">Calculate</span> 
                                <span *ngIf="this.pageType=='Borderaeux'">Generate Report</span> 
                                <span *ngIf="this.pageType=='Claims'">Generate Report</span> 
                                <span *ngIf="this.pageType=='Outstanding'">Generate Report</span> 
                            </span>
                            <span *ngIf="this.isClicked"><i class="fa-solid fa-fan fa-spin"></i></span>
                        </button>
                    </div>
                </div>
                <!-- Pdf -->
                <div id="viewPdf" style="display: none;">
                    <iframe [src]="pdfSrc" width="100%" height="700px">
                        Your browser does not support PDFs.
                    </iframe>
                </div>
                
            </form>
        </div>
    </div>
</div>