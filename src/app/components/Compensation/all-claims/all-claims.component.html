<div class="all-claims">
    <div class="container-fluid">
        <div class="outerBorder outerItem table-responsive" style="margin:0px 0px !important;">
            <table class="table text-center">
                <thead class="tableHead" style="background-color: #F2F2F2 !important;">
                    <th class="py-2">Claim Code</th>
                    <th class="py-2">Insured Name</th>
                    <th class="py-2">Month</th>
                    <th class="py-2">Entry date</th>
                    <th class="py-2">Receipt date</th>
                    <th class="py-2">Payment date</th>
                    <th class="py-2">Policy Code</th>
                    <th class="py-2">Gross Amount</th>
                    <th class="py-2">Net Amount</th>
                    <th></th>
                    <!-- <th class="py-2">Details</th> -->
                </thead>
                <tbody>
                    <tr *ngFor="let item of AllData|paginate:{
                            itemsPerPage:tableSize,
                            currentPage:page,
                            totalItems:count};">
                        <td class="align-middle">{{item.claimCode}}</td>
                        <td class="align-middle">{{item.insuredName}}</td>
                        <td class="align-middle">{{item.claimForMonth}}</td>
                        <td class="align-middle">{{item.dateOfEntryOfClaim|date:'dd/MM/YYYY'}}</td>
                        <td class="align-middle">{{item.dateOfReceiptOfTheClaim|date:'dd/MM/YYYY'}}</td>
                        <td class="align-middle">{{item.paymentDate|date:'dd/MM/YYYY'}}</td>
                        <td class="align-middle">{{item.policyCode}}</td>
                        <td class="align-middle">{{item.grossAmount}}</td>
                        <td class="align-middle">{{item.netAmount}}</td>
                        <!-- <td class="align-middle">
                            <i data-bs-toggle="modal" data-bs-target="#ShowDetailsModal"
                                class="fa-regular fa-eye text-success fs-5 px-3 py-2"
                                (click)="getFileDetails(item.claimCode)"></i>
                            <a [routerLink]="['/ModelPaymentPermission']" [queryParams]="{code: item.claimCode}"
                                target="_blank"><i class="fa-solid fa-print text-success fs-5 px-3 py-2"></i> </a>
                        </td> -->
                        <td  class="align-middle" (mouseenter)="hoverRow = item.claimCode" (mouseleave)="hoverRow = null" style="vertical-align: middle;">
                            <div class="dropdown">
                              <i class="fa-solid fa-ellipsis-v fs-5 px-3 py-2 text-secondary" style="margin-left: 20px;"></i>
                              
                              <div class="dropdown-menu text-center" [ngClass]="{'show': hoverRow === item.claimCode}">
                                    <!-- <a class="dropdown-item" (click)="Addrisk(item.claimCode)" (click)="getFileDetails(item.claimCode)" data-bs-toggle="modal" data-bs-target="#ShowDetailsModal"> -->
                                    <a class="dropdown-item" (click)="Addrisk(item.claimCode)">
                                        <i class="fa-regular fa-eye fs-5 px-3 py-2" style="color:#01BACB;"></i>
                                    </a>
                                    <button style="color:#01BACB;" class="dropdown-item align-middle mt-1"  [routerLink]="['/ModelPaymentPermission']" [queryParams]="{code: item.claimCode}" target="_blank" mat-raised-button >Print</button>
                                    <!-- <a class="dropdown-item" [routerLink]="['/ModelPaymentPermission']" [queryParams]="{code: item.claimCode}" target="_blank">
                                        <i class="fa-solid fa-print fs-5 px-3 py-2" style="color:#01BACB !important;"></i> 
                                        <button></button>                              
                                    </a> -->
                              </div>
                              
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div *ngIf="AllData?.length==0" class="d-flex justify-content-center align-items-center mt-5">
                <div class="alert alert-warning mt-3 w-75 text-center text-muted fw-bold" role="alert" style="background-color: #9bd8dd !important; color: white;" >
                    <span style="font-size: 1.1rem;">No Claims found</span>
                </div>
            </div>
            <div class="d-flex justify-content-end mt-4" *ngIf="AllData?.length!=0">
                <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">
                </pagination-controls>
                <select style="border: solid 2px #4758B8;" (change)="onTableSizeChange($event)"
                    class="tableSize rounded-pill px-1">
                    <option *ngFor=" let size of tableSizes">{{size}}</option>
                </select>
            </div>
            <div id="loading" *ngIf="loading">
                <app-spinner class="d-flex justify-content-center m-auto"></app-spinner>
            </div>
        </div>
    </div>
</div>


<!--------------------------------------- /View Details Modal  --------------------------->
<div class="modal fade" id="ShowDetailsModal" tabindex="-1" aria-labelledby="networkCoding" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="ShowDetailsModal">File Data</h1>
            </div>
            <div class="outerBorder outerItem shadow_5 my-2">
                <h2 class="text-muted">Main Details</h2>
                <div class="row">
                    <!-- Col  1  -->
                    <div class="col-12">
                        <table class="table table-striped text-center">
                            <thead>
                                <th class="py-1">policy Holder</th>
                                <th class="py-1">Provider Name</th>
                                <th class="py-1">Invoice Nbr</th>
                                <th class="py-1">Invoice Received Date</th>
                                <th class="py-1">Status</th>
                                <th class="py-1">Member Name</th>
                                <th class="py-1">Amount</th>
                                <th class="py-1">Plan Type</th>
                                <!-- <th class="py-1">Pending Note</th> -->
                                <th class="py-1">Reason Of Rejection</th>
                                <th class="py-1">Amount Approved By Orient</th>
                                <th class="py-1">Under writing Year</th>
                            </thead>
                            <tbody>
                                <tr class="align-middle" *ngFor="let item of fileData;let index = index;" [ngClass]="{
                                        'bg-rejected': item.status === 'Reject' || item.status === 'rejected',
                                        'bg-confirmed': item.status === 'confirm' || item.status === 'confirmed'}">
                                    <td class="py-2">{{item?.policyHolder}}</td>
                                    <td class="py-2">{{item?.providerName}}</td>
                                    <td class="py-2">{{item?.invoiceNbr}}</td>
                                    <td>{{item?.invoiceReceivedDate|date:'dd/MM/YYYY'}}</td>
                                    <td>{{item?.status}}</td>
                                    <td>{{item?.memberName}}</td>
                                    <td>{{item?.claimedAmount}}</td>
                                    <!-- <td>{{item?.provider}}</td> -->
                                    <td>{{item?.planType}}</td>
                                    <!-- <td>{{item?.pendingNote}}</td> -->
                                    <td>{{item?.reasonOfRejection}}</td>
                                    <td>{{item?.amountApprovedByOrient}}</td>
                                    <td>{{item?.underwritingYear}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <hr style="width: 87%;margin: auto;" class="my-3">


            </div>

            <div class="modal-footer py-3 d-flex align-items-center">
                <button id="close" type="button" mat-raised-button data-bs-dismiss="modal">Close</button>

            </div>
        </div>
    </div>
</div>
  <!-- Add new modal Risk  -->
  <div class="overlayAddplan" (click)="closeAddrisk()">
    <div class="addnewplan" (click)="$event.stopPropagation()">
        <div class="d-flex justify-content-between delet-details">
            <h2>File data / Main Details</h2>
            <div class="d-flex align-items-center justify-content-center"><i class="fa-solid fa-xmark text-danger text-center" (click)="closeAddrisk()" style="cursor: pointer;"></i></div>
        </div>
       <hr class="custom-hr w-100">
       <div class="container" style="max-width: 1322px;">
            <div class="row">
                <div class="col-12">
                    <table class="table text-center">
                        <thead  style="background-color: #F2F2F2 !important;">
                            <th class="py-1">policy Holder</th>
                            <th class="py-1">Provider Name</th>
                            <th class="py-1">Invoice Nbr</th>
                            <th class="py-1">Invoice Received Date</th>
                            <th class="py-1">Status</th>
                            <th class="py-1">Member Name</th>
                            <th class="py-1">Amount</th>
                            <th class="py-1">Plan Type</th>
                            <th class="py-1">Reason Of Rejection</th>
                            <th class="py-1">Amount Approved By Orient</th>
                            <th class="py-1">Under writing Year</th>
                        </thead>
                        <tbody>
                            <tr class="align-middle" *ngFor="let item of fileData;let index = index;" [ngClass]="{
                                    'bg-rejected': item.status === 'Reject' || item.status === 'rejected',
                                    'bg-confirmed': item.status === 'confirm' || item.status === 'confirmed'}">
                                <td class="py-2">{{item?.policyHolder}}</td>
                                <td class="py-2">{{item?.providerName}}</td>
                                <td class="py-2">{{item?.invoiceNbr}}</td>
                                <td>{{item?.invoiceReceivedDate|date:'dd/MM/YYYY'}}</td>
                                <td>{{item?.status}}</td>
                                <td>{{item?.memberName}}</td>
                                <td>{{item?.claimedAmount}}</td>
                                <td>{{item?.planType}}</td>
                                <td>{{item?.reasonOfRejection}}</td>
                                <td>{{item?.amountApprovedByOrient}}</td>
                                <td>{{item?.underwritingYear}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="loading" *ngIf="loading">
                        <app-spinner class="d-flex justify-content-center m-auto"></app-spinner>
                    </div>
                </div>
            </div>
            <hr style="width: 87%;margin: auto;" class="my-3">


       
       </div>       
      </div>
  </div>